(function(t){function e(e){for(var r,s,a=e[0],c=e[1],l=e[2],p=0,h=[];p<a.length;p++)s=a[p],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&h.push(o[s][0]),o[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},o={app:0},i=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0564":function(t,e){},"15e9":function(t,e){},"1edf":function(t,e,n){},"2a56":function(t,e){},"82ab":function(t,e){},"8a11":function(t,e){},"8eec":function(t,e){},9614:function(t,e){},"9a96":function(t,e){},"9c25":function(t,e){},b815:function(t,e){},c193:function(t,e){},cd49:function(t,e,n){"use strict";n.r(e);n("9a96"),n("f13e");var r=n("6235"),o=function(){function t(){this.channels=new Map}return t.prototype.getChannel=function(t){return this.channels.has(t)||this.channels.set(t,new r["ProxyChannel"]),this.channels.get(t)},t.prototype.broadcast=function(t,e){this.channels.has(t)?this.getChannel(t).dispatch(e):console.warn("Cannot broadcast on non existing channel: "+t)},t.prototype.getChannels=function(){return this.channels},t}(),i=function(){function t(t){this.controller=t}return t.prototype.dispatch=function(t){this.controller.action(t)},t}(),s=n("b120"),a=function(){function t(){this.controllersMap=s["Observables"].createMap(),this.observablesMap=s["Observables"].createMap(),this.repositoryMap=s["Observables"].createMap(),this.channelValue=new r["ProxyChannel"]}return t.prototype.controllers=function(){return this.controllersMap},t.prototype.observables=function(){return this.observablesMap},t.prototype.repositories=function(){return this.repositoryMap},t.prototype.channel=function(){return this.channelValue},t}(),c=function(){function t(t){this.framework=t}return t.prototype.dispatch=function(t){this.framework.process(t.event,null===t||void 0===t?void 0:t.data)},t}(),l=function(){function t(t){void 0===t&&(t=[]),this.broadcast=new o,this.context=new a,this.context.controllers().connectFn(this.onControllersChange.bind(this)),this.context.channel().connect(new c(this)),this.context.repositories().insert("properties",new s["SimpleRepository"]);for(var e=0,n=t;e<n.length;e++){var r=n[e];this.installModule(r)}}return t.prototype.onControllersChange=function(t){for(var e=0,n=t.inserted();e<n.length;e++){var r=n[e];this.broadcast.getChannel(r.getKey()).connect(new i(r.getValue()))}},t.prototype.installModule=function(t){t.install(this.context)},t.prototype.process=function(t,e){this.broadcast.getChannel(t).dispatch(e)},t.prototype.getObservable=function(t){return this.context.observables().get(t)},t.prototype.getChannel=function(){return this.context.channel()},t.prototype.getRepository=function(t){return this.context.repositories().get(t)},t}(),u=(n("d75b"),n("cf56"),n("fe45"),function(){function t(t){this.services=[],this.services=t}t.prototype.start=function(){for(var t=0,e=this.services;t<e.length;t++){var n=e[t];n.start()}},t.prototype.stop=function(){for(var t=0,e=this.services;t<e.length;t++){var n=e[t];n.stop()}}}(),function(){function t(t,e){this.key=t,this.value=e}return t.prototype.identify=function(){return this.key},t.prototype.get=function(){return this.value},t}()),p=(n("0564"),function(){function t(t,e,n){void 0===n&&(n=""),this.id=t,this.message=e,this.type=n}return t.prototype.getMessage=function(){return this.message},t.prototype.getType=function(){return this.type},t.prototype.identify=function(){return this.id},t}()),h=function(){function t(t,e){this.repository=e,this.generator=t}return t.prototype.action=function(t){this.repository.insert(new p(this.generator.generate(),t.message,t.type))},t}(),d=function(){function t(t){this.repository=t}return t.prototype.action=function(t){this.repository.remove(t)},t}(),f=function(){function t(t,e,n){this.closables=[],this.alerts=e,this.channel=n,this.delayMiliseconds=t}return t.prototype.start=function(){this.closables.push(this.alerts.connectFn(this.onAlertsChange.bind(this)))},t.prototype.stop=function(){for(var t=0,e=this.closables;t<e.length;t++){var n=e[t];n.close()}},t.prototype.onAlertsChange=function(t){for(var e=this,n=function(t){setTimeout((function(){e.channel.dispatch({event:"alert@remove",data:t})}),r.delayMiliseconds)},r=this,o=0,i=t.inserted();o<i.length;o++){var s=i[o];n(s)}},t}(),b=(n("82ab"),function(){function t(){this.next=1}return t.prototype.generate=function(){var t=this.next;return this.next+=1,t},t}()),v=function(){function t(){this.generator=new b}return t.prototype.generate=function(){return this.generator.generate()+""},t}(),y=function(){function t(){}return t.prototype.install=function(t){var e=new s["SimpleRepository"];t.repositories().insert("alerts",e),t.controllers().insert("alert@create",new h(new v,e)),t.controllers().insert("alert@remove",new d(e));var n=new f(3e3,e,t.channel());n.start()},t}(),j=function(){function t(){}return t.errorEvent=function(e){return t.event("error",e)},t.infoEvent=function(e){return t.event("info",e)},t.successEvent=function(e){return t.event("success",e)},t.event=function(t,e){return{event:"alert@create",data:{message:e,type:t}}},t}(),m=n("2b0e"),g=n("8c4f"),O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-view"),n("alert-container",{attrs:{alerts:this.alerts},on:{close:function(e){return t.closeAlert(e)}}})],1)},_=[],C=n("9ab4"),w=n("60a3"),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input",{staticClass:"field__input",attrs:{id:t.id,type:"text",placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.$emit("change",e.target.value)}}})},A=[],E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(C["b"])(e,t),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"id",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"placeholder",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"value",void 0),e=Object(C["a"])([w["a"]],e),e}(w["c"]),$=E,k=$,q=n("2877"),S=Object(q["a"])(k,x,A,!1,null,null,null),M=S.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"alert-container"},t._l(t.alerts,(function(e,r){return n("alert",{key:r,attrs:{alert:e},on:{close:function(e){return t.close(e)}}})})),1)},P=[],U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"alert",class:t.getClass()},[n("div",{staticClass:"alert__message"},[t._v(t._s(t.alert.getMessage()))]),n("button",{staticClass:"btn left-m",attrs:{type:"button"},on:{click:function(e){return t.close()}}},[t._v("OK")])])},R=[],N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(C["b"])(e,t),e.prototype.close=function(){this.$emit("close",this.alert)},e.prototype.getClass=function(){return"alert--"+this.alert.getType()},Object(C["a"])([Object(w["b"])()],e.prototype,"alert",void 0),e=Object(C["a"])([w["a"]],e),e}(w["c"]),F=N,L=F,T=Object(q["a"])(L,U,R,!1,null,null,null),H=T.exports,D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(C["b"])(e,t),e.prototype.close=function(t){this.$emit("close",t)},Object(C["a"])([Object(w["b"])({default:function(){return[]}})],e.prototype,"alerts",void 0),e=Object(C["a"])([Object(w["a"])({components:{Alert:H}})],e),e}(w["c"]),I=D,Q=I,B=Object(q["a"])(Q,V,P,!1,null,null,null),J=B.exports,K=function(){function t(t){this.closables=[],this.data=t}return t.prototype.bindValue=function(t,e){var n=this;this.closables.push(e.connectFn((function(e){n.data[t]=e})))},t.prototype.bindProperty=function(t,e){var n=this;this.closables.push(e.connectFn((function(e){n.data[t]=e.get()})))},t.prototype.unbindAll=function(){for(var t=0,e=this.closables;t<e.length;t++){var n=e[t];n.close()}},t}(),z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alerts=[],e}return Object(C["b"])(e,t),e.prototype.created=function(){this.repo=new K(this)},e.prototype.beforeDestroy=function(){this.repo.unbindAll()},e.prototype.mounted=function(){this.repo.bindValue("alerts",this.queries.alerts)},e.prototype.closeAlert=function(t){this.channel.dispatch({event:"alert@remove",data:t})},Object(C["a"])([Object(w["b"])()],e.prototype,"queries",void 0),Object(C["a"])([Object(w["b"])()],e.prototype,"channel",void 0),e=Object(C["a"])([Object(w["a"])({components:{StringInput:M,AlertContainer:J}})],e),e}(w["c"]),G=z,W=G,X=(n("df2c"),Object(q["a"])(W,O,_,!1,null,null,null)),Y=X.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"material"},[t._m(0),n("div",{staticClass:"material__body"},[n("router-view")],1)])},tt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"material__header"},[n("div",{staticClass:"text-m material__header__title"},[t._v("Log Outsourced")])])}],et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(C["b"])(e,t),e=Object(C["a"])([w["a"]],e),e}(w["c"]),nt=et,rt=nt,ot=Object(q["a"])(rt,Z,tt,!1,null,null,null),it=ot.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"material__container"},[n("div",{staticClass:"flexbox-row center bottom-m"},[n("h2",{staticClass:"text-m flex"},[t._v("Projects")]),n("button",{staticClass:"btn btn--forward left-m",on:{click:function(e){return t.create()}}},[n("i",{staticClass:"material-icons md-18"},[t._v("add")])])]),n("project-list",{staticClass:"flex",attrs:{items:this.projects},on:{open:function(e){return t.open(e)},delete:function(e){return t.deleteProject(e)}}})],1)},at=[],ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},t._l(t.items,(function(e){return n("project-list-item",{key:e.getUuid(),attrs:{project:e},on:{open:function(e){return t.$emit("open",e)},delete:function(e){return t.$emit("delete",e)}}})})),1)},lt=[],ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list__item"},[n("div",{staticClass:"list__item__top flexbox-row"},[n("div",{staticClass:"flex"},[t._v(t._s(t.project.getName()))]),n("button",{staticClass:"btn btn--primary",on:{click:function(e){return t.open()}}},[t._v("OPEN")])])])},pt=[],ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(C["b"])(e,t),e.prototype.open=function(){this.$emit("open",this.project)},Object(C["a"])([Object(w["b"])()],e.prototype,"project",void 0),e=Object(C["a"])([w["a"]],e),e}(w["c"]),dt=ht,ft=dt,bt=Object(q["a"])(ft,ut,pt,!1,null,null,null),vt=bt.exports,yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(C["b"])(e,t),Object(C["a"])([Object(w["b"])()],e.prototype,"items",void 0),e=Object(C["a"])([Object(w["a"])({components:{ProjectListItem:vt}})],e),e}(w["c"]),jt=yt,mt=jt,gt=Object(q["a"])(mt,ct,lt,!1,null,null,null),Ot=gt.exports,_t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.projects=[],e}return Object(C["b"])(e,t),e.prototype.created=function(){this.repo=new K(this),this.channel.dispatch({event:"project@load.all"})},e.prototype.beforeDestroy=function(){this.repo.unbindAll()},e.prototype.mounted=function(){this.repo.bindValue("projects",this.queries.projects)},e.prototype.open=function(t){this.$router.push("/project?pid="+t.identify())},e.prototype.create=function(){this.$router.push("/create")},e.prototype.deleteProject=function(t){this.channel.dispatch({event:"project@delete",data:t})},Object(C["a"])([Object(w["b"])()],e.prototype,"channel",void 0),Object(C["a"])([Object(w["b"])()],e.prototype,"queries",void 0),e=Object(C["a"])([Object(w["a"])({components:{ProjectList:Ot}})],e),e}(w["c"]),Ct=_t,wt=Ct,xt=Object(q["a"])(wt,st,at,!1,null,null,null),At=xt.exports,Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"material__container"},[n("div",{staticClass:"card"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.save()}}},[n("header",{staticClass:"card__header"},[t._v("Create Project")]),n("div",{staticClass:"card__body"},[t.model?n("string-field",{attrs:{id:"name",label:"Name",value:t.model.field.name,error:t.model.error.name},on:{change:function(e){return t.onNameChange(e)}}}):t._e()],1),n("footer",{staticClass:"card__footer"},[n("button",{staticClass:"btn btn--secondary right-s",attrs:{type:"button"},on:{click:function(e){return t.cancel()}}},[t._v("CANCEL")]),n("button",{staticClass:"btn btn--primary",attrs:{type:"submit"}},[t._v("SAVE")])])])])])},$t=[],kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("field",{attrs:{id:t._uid,label:t.label,error:t.error}},[n("string-input",{attrs:{id:t._uid,placeholder:t.placeholder,value:t.value},on:{change:function(e){return t.$emit("change",e)}}})],1)},qt=[],St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field",class:{"field--error":t.hasError()}},[n("label",{staticClass:"field__label",attrs:{for:t.id}},[n("div",[t._v(t._s(t.label))]),t.hasError()?n("div",{staticClass:"field__error top-s"},[t._v(t._s(t.error))]):t._e()]),t._t("default")],2)},Mt=[],Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(C["b"])(e,t),e.prototype.hasError=function(){return""!==this.error},Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"id",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"label",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"error",void 0),e=Object(C["a"])([w["a"]],e),e}(w["c"]),Pt=Vt,Ut=Pt,Rt=Object(q["a"])(Ut,St,Mt,!1,null,null,null),Nt=Rt.exports,Ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(C["b"])(e,t),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"label",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"placeholder",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"error",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"value",void 0),e=Object(C["a"])([Object(w["a"])({components:{Field:Nt,StringInput:M}})],e),e}(w["c"]),Lt=Ft,Tt=Lt,Ht=Object(q["a"])(Tt,kt,qt,!1,null,null,null),Dt=Ht.exports,It=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.model=null,e}return Object(C["b"])(e,t),e.prototype.created=function(){this.repo=new K(this)},e.prototype.beforeDestroy=function(){this.repo.unbindAll()},e.prototype.mounted=function(){this.repo.bindProperty("model",this.queries.projectCreate)},e.prototype.cancel=function(){this.$router.push("/")},e.prototype.save=function(){var t=this;this.channel.dispatch({event:"project@create",data:{body:{name:this.model.field.name},success:function(e){t.$router.push({path:"/project",query:{pid:e.identify()}})}}})},e.prototype.onNameChange=function(t){this.model.field.name=t,this.model.error.name=""},Object(C["a"])([Object(w["b"])()],e.prototype,"channel",void 0),Object(C["a"])([Object(w["b"])()],e.prototype,"queries",void 0),e=Object(C["a"])([Object(w["a"])({components:{StringField:Dt}})],e),e}(w["c"]),Qt=It,Bt=Qt,Jt=Object(q["a"])(Bt,Et,$t,!1,null,null,null),Kt=Jt.exports,zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"material__container"},[n("div",{staticClass:"card"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.cancel()}}},[n("header",{staticClass:"card__header"},[t._v("Settings")]),n("div",{staticClass:"card__body"},[n("button-field",{attrs:{label:"Regenerate URL",text:"Generate"},on:{action:function(e){return t.generateUrl()}}}),n("button-field",{attrs:{label:"Delete project",text:"Delete",level:"danger"},on:{action:function(e){return t.remove()}}})],1),n("footer",{staticClass:"card__footer"},[n("button",{staticClass:"btn btn--secondary right-s",attrs:{type:"button"},on:{click:function(e){return t.cancel()}}},[t._v("CANCEL")])])])])])},Gt=[],Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("field",{attrs:{id:t._uid,label:t.label}},[n("div",{staticClass:"flex flexbox-row end"},[n("button",{staticClass:"btn btn--border",class:t.getClass(),attrs:{type:"button"},on:{click:function(e){return t.$emit("action",e)}}},[t._v(t._s(t.text))])])])},Xt=[],Yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(C["b"])(e,t),e.prototype.getClass=function(){return""===this.level?[]:["btn--"+this.level]},Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"label",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"text",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"level",void 0),e=Object(C["a"])([Object(w["a"])({components:{Field:Nt,StringInput:M}})],e),e}(w["c"]),Zt=Yt,te=Zt,ee=Object(q["a"])(te,Wt,Xt,!1,null,null,null),ne=ee.exports,re=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.project=null,e}return Object(C["b"])(e,t),e.prototype.created=function(){this.repo=new K(this)},e.prototype.beforeDestroy=function(){this.repo.unbindAll()},e.prototype.mounted=function(){this.repo.bindProperty("project",this.queries.projectActive)},e.prototype.cancel=function(){this.$router.push({path:"/project",query:this.$route.query})},e.prototype.generateUrl=function(){var t=this;this.channel.dispatch({event:"project@generate",data:{body:this.project,success:function(e){t.$router.push({path:"/project/settings",query:{pid:e.identify()}})}}})},e.prototype.remove=function(){var t=this;this.channel.dispatch({event:"project@delete",data:{body:this.project,success:function(){t.$router.push({path:"/"})}}})},Object(C["a"])([Object(w["b"])()],e.prototype,"channel",void 0),Object(C["a"])([Object(w["b"])()],e.prototype,"queries",void 0),e=Object(C["a"])([Object(w["a"])({components:{ButtonField:ne}})],e),e}(w["c"]),oe=re,ie=oe,se=Object(q["a"])(ie,zt,Gt,!1,null,null,null),ae=se.exports,ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("header",{staticClass:"material__header"},[n("div",{staticClass:"flexbox-row space-between center flex flexfix"},[n("button",{staticClass:"btn btn--secondary btn--square material__header__back",on:{click:function(e){return t.back()}}},[n("i",{staticClass:"material-icons md-18"},[t._v("apps")])]),t.project?n("div",{staticClass:"material__header__title text-m text-ellipsis"},[t._v(t._s(t.project.getName()))]):t._e(),n("diV",{staticClass:"flexbox-row"},[t.api?n("button",{staticClass:"btn btn--secondary btn--square text-ellipsis material__header__url right-m",on:{click:function(e){return t.copyUrl()}}},[n("span",{staticClass:"hide-s left-s right-s"},[t._v(t._s(t.api.url))]),n("span",{staticClass:"hide show-s material-icons md-18"},[t._v("content_copy")])]):t._e(),n("contextmenu",{ref:"contextmenu",attrs:{relative:!0}},[n("button",{staticClass:"context__menu__item top-s",on:{click:function(e){return t.openSettings()}}},[t._v("Settings")])])],1)],1)]),n("div",{staticClass:"material__body"},[n("router-view")],1)])},le=[],ue=n("f1cd"),pe=n.n(ue),he=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"context context--right",class:{"context--relative":t.relative}},[n("button",{staticClass:"btn btn--secondary btn--circle",attrs:{type:"button"},on:{click:function(e){return t.open()}}},[n("i",{staticClass:"material-icons"},[t._v("more_vert")])]),t.visible?n("div",{staticClass:"context__menu"},[n("div",{staticClass:"context__menu__close"},[n("button",{staticClass:"btn btn--secondary btn--circle",attrs:{type:"button"},on:{click:function(e){return t.close()}}},[n("i",{staticClass:"material-icons"},[t._v("more_vert")])])]),t._t("default")],2):t._e()])},de=[],fe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.visible=!1,e}return Object(C["b"])(e,t),e.prototype.open=function(){this.visible=!0},e.prototype.close=function(){this.visible=!1},Object(C["a"])([Object(w["b"])({default:!1})],e.prototype,"relative",void 0),e=Object(C["a"])([w["a"]],e),e}(w["c"]),be=fe,ve=be,ye=Object(q["a"])(ve,he,de,!1,null,null,null),je=ye.exports,me=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.project=null,e.api=null,e}return Object(C["b"])(e,t),e.prototype.onUuidChange=function(t,e){this.channel.dispatch({event:"project@open",data:t})},e.prototype.created=function(){this.repo=new K(this)},e.prototype.beforeDestroy=function(){this.repo.unbindAll(),this.channel.dispatch({event:"project@close"})},e.prototype.mounted=function(){this.repo.bindProperty("api",this.queries.api),this.repo.bindProperty("project",this.queries.projectActive)},e.prototype.back=function(){this.channel.dispatch({event:"project@close"}),this.$router.push("/")},e.prototype.copyUrl=function(){pe()(this.api.url),this.channel.dispatch({event:"alert@create",data:{message:"URL copied to clipboard",type:"info"}})},e.prototype.openSettings=function(){this.$refs.contextmenu.close(),this.$router.push({path:"/project/settings",query:{pid:this.$route.query.pid}})},Object(C["a"])([Object(w["b"])()],e.prototype,"channel",void 0),Object(C["a"])([Object(w["b"])()],e.prototype,"queries",void 0),Object(C["a"])([Object(w["d"])("$route.query.pid",{immediate:!0})],e.prototype,"onUuidChange",null),e=Object(C["a"])([Object(w["a"])({components:{Contextmenu:je}})],e),e}(w["c"]),ge=me,Oe=ge,_e=Object(q["a"])(Oe,ce,le,!1,null,null,null),Ce=_e.exports,we=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flexbox-row"},[n("section",{staticClass:"material__container",class:{"hide-m":t.listener}},[n("div",{staticClass:"flexbox-row center bottom-m"},[n("h2",{staticClass:"text-m flex"},[t._v("Rules")]),n("button",{staticClass:"btn btn--forward left-m",on:{click:function(e){return t.create()}}},[n("i",{staticClass:"material-icons md-18"},[t._v("add")])])]),n("listener-list",{attrs:{items:t.listeners,active:t.listener,handlers:t.handlers},on:{open:function(e){return t.openListener(e)},delete:function(e){return t.deleteListener(e)}}})],1),n("router-view")],1)},xe=[],Ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},t._l(t.items,(function(e){return n("listener-list-item",{key:e.getUuid(),attrs:{item:e,active:e===t.active,handler:t.getHandler(e.getHandlerSlug())},on:{open:function(e){return t.$emit("open",e)},delete:function(e){return t.$emit("delete",e)}}})})),1)},Ee=[],$e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list__item",class:{"list__item--active":t.active}},[n("div",{staticClass:"list__item__top"},[t.handler?n("span",{staticClass:"material-icons md-18"},[t._v(t._s(t.handler.getMeta().meta.icon))]):t._e(),n("div",{staticClass:"left-m"},[t._v(t._s(t.item.getName()))])]),n("contextmenu",[n("button",{staticClass:"context__menu__item top-s",on:{click:function(e){return t.$emit("delete",t.item)}}},[t._v("Delete")])]),n("div",{staticClass:"list__item__bottom flexbox-row center"},[n("div",{staticClass:"flex text--auxilery"},[t._v(" "+t._s(t.item.getRules().join(", "))+" ")]),n("button",{staticClass:"btn btn--primary",on:{click:function(e){return t.open()}}},[t._v("EDIT")])])],1)},ke=[],qe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(C["b"])(e,t),e.prototype.open=function(){this.$emit("open",this.item)},Object(C["a"])([Object(w["b"])()],e.prototype,"item",void 0),Object(C["a"])([Object(w["b"])()],e.prototype,"handler",void 0),Object(C["a"])([Object(w["b"])({default:!1})],e.prototype,"active",void 0),e=Object(C["a"])([Object(w["a"])({components:{Contextmenu:je}})],e),e}(w["c"]),Se=qe,Me=Se,Ve=Object(q["a"])(Me,$e,ke,!1,null,null,null),Pe=Ve.exports,Ue=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(C["b"])(e,t),e.prototype.getHandler=function(t){return this.handlers.get(t)},Object(C["a"])([Object(w["b"])()],e.prototype,"items",void 0),Object(C["a"])([Object(w["b"])()],e.prototype,"active",void 0),Object(C["a"])([Object(w["b"])()],e.prototype,"handlers",void 0),e=Object(C["a"])([Object(w["a"])({components:{ListenerListItem:Pe}})],e),e}(w["c"]),Re=Ue,Ne=Re,Fe=Object(q["a"])(Ne,Ae,Ee,!1,null,null,null),Le=Fe.exports,Te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[n("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.save()}}},[n("header",{staticClass:"card__header"},[t._v(t._s(t.title))]),n("div",{staticClass:"card__body"},[t.model?n("div",[n("string-field",{attrs:{label:"Name",value:t.model.name},on:{change:function(e){t.model.name=e}}}),n("select-checkbox-field",{attrs:{label:"Log levels",value:t.model.rules,options:["debug","info","notice","warning","error","critical","alert","emergency"]},on:{change:function(e){t.model.rules=e}}}),n("handler-select",{attrs:{handlers:t.handlers,value:t.model.handler.slug},on:{change:function(e){return t.onHandlerChange(e)}}})],1):t._e(),n("form-builder",{staticClass:"top-l",attrs:{fields:t.fields,values:t.model.handler.values}})],1),n("footer",{staticClass:"card__footer"},[n("button",{staticClass:"btn btn--secondary right-s",attrs:{type:"button"},on:{click:function(e){return t.$emit("cancel")}}},[t._v("CANCEL")]),n("button",{staticClass:"btn btn--primary",attrs:{type:"submit"}},[t._v("SAVE")])])])])},He=[],De=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("field",{attrs:{id:t._uid,label:t.label,error:t.error}},[n("select-input",{attrs:{id:t._uid,options:t.options,value:t.value},on:{change:function(e){return t.$emit("change",e)}}})],1)},Ie=[],Qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("select",{staticClass:"field__input",attrs:{id:t.id},on:{change:function(e){return t.onChange(e.target.value)}}},[""===t.value?n("option",[t._v(t._s(t.value))]):t._e(),t._l(t.options,(function(e,r){return n("option",{key:r,domProps:{value:e.id||e,selected:(e.value||e)==t.value}},[t._v(t._s(e.label||e))])}))],2)},Be=[],Je=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(C["b"])(e,t),e.prototype.onChange=function(t){for(var e=null,n=0,r=this.options;n<r.length;n++){var o=r[n];(o.id||o)===t&&(e=o.value||o)}this.$emit("change",e)},Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"id",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"value",void 0),Object(C["a"])([Object(w["b"])({default:function(){return[]}})],e.prototype,"options",void 0),e=Object(C["a"])([w["a"]],e),e}(w["c"]),Ke=Je,ze=Ke,Ge=Object(q["a"])(ze,Qe,Be,!1,null,null,null),We=Ge.exports,Xe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(C["b"])(e,t),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"label",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"error",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"value",void 0),Object(C["a"])([Object(w["b"])({default:function(){return[]}})],e.prototype,"options",void 0),e=Object(C["a"])([Object(w["a"])({components:{Field:Nt,SelectInput:We}})],e),e}(w["c"]),Ye=Xe,Ze=Ye,tn=Object(q["a"])(Ze,De,Ie,!1,null,null,null),en=tn.exports,nn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.fields,(function(e,r){return[n(t.getComponentByType(e.type),t._b({key:r,tag:"component",attrs:{value:t.getValue(t.values[e.id],e.default)},on:{change:function(n){t.values[e.id]=n}}},"component",e.props,!1))]}))],2)},rn=[],on=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("field",{attrs:{id:t._uid,label:t.label,error:t.error}},[n("number-input",{attrs:{id:t._uid,value:t.value},on:{change:function(e){return t.$emit("change",e)}}})],1)},sn=[],an=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input",{staticClass:"field__input",attrs:{id:t.id,type:"number",placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.$emit("change",e.target.value)}}})},cn=[],ln=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(C["b"])(e,t),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"id",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"placeholder",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"value",void 0),e=Object(C["a"])([w["a"]],e),e}(w["c"]),un=ln,pn=un,hn=Object(q["a"])(pn,an,cn,!1,null,null,null),dn=hn.exports,fn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(C["b"])(e,t),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"label",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"error",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"placeholder",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"value",void 0),e=Object(C["a"])([Object(w["a"])({components:{Field:Nt,NumberInput:dn}})],e),e}(w["c"]),bn=fn,vn=bn,yn=Object(q["a"])(vn,on,sn,!1,null,null,null),jn=yn.exports,mn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("field",{attrs:{id:t._uid,label:t.label,error:t.error}},[n("checkbox-input",{attrs:{id:t._uid,checked:t.value},on:{change:function(e){return t.$emit("change",e)}}})],1)},gn=[],On=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn-checkbox",class:{"btn-checkbox--checked":this.checkedState},attrs:{type:"button",role:"checkbox","aria-checked":this.checkedState},on:{click:function(e){return t.toggle()}}},[t._v(t._s(t.getText()))])},_n=[],Cn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.checkedState=e.checked,e}return Object(C["b"])(e,t),e.prototype.toggle=function(){this.onChange(!this.checkedState)},e.prototype.onChange=function(t){this.checkedState=t;var e=this.falseValue;this.checkedState&&(e=this.trueValue),this.$emit("change",e)},e.prototype.getText=function(){return""!==this.text?this.text:this.checkedState?!0!==this.trueValue?this.trueValue:"On":!1!==this.falseValue?this.falseValue:"Off"},e.prototype.onCheckedChange=function(t,e){this.checkedState=t},Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"id",void 0),Object(C["a"])([Object(w["b"])({default:!1})],e.prototype,"checked",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"text",void 0),Object(C["a"])([Object(w["b"])({default:!0})],e.prototype,"trueValue",void 0),Object(C["a"])([Object(w["b"])({default:!1})],e.prototype,"falseValue",void 0),Object(C["a"])([Object(w["d"])("checked")],e.prototype,"onCheckedChange",null),e=Object(C["a"])([w["a"]],e),e}(w["c"]),wn=Cn,xn=wn,An=Object(q["a"])(xn,On,_n,!1,null,null,null),En=An.exports,$n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(C["b"])(e,t),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"label",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"error",void 0),Object(C["a"])([Object(w["b"])({default:!1})],e.prototype,"value",void 0),Object(C["a"])([Object(w["b"])({default:!0})],e.prototype,"trueValue",void 0),Object(C["a"])([Object(w["b"])({default:!1})],e.prototype,"falseValue",void 0),e=Object(C["a"])([Object(w["a"])({components:{Field:Nt,CheckboxInput:En}})],e),e}(w["c"]),kn=$n,qn=kn,Sn=Object(q["a"])(qn,mn,gn,!1,null,null,null),Mn=Sn.exports,Vn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("field",{attrs:{id:t._uid,label:t.label,error:t.error}},[n("password-input",{attrs:{id:t._uid,placeholder:t.placeholder,value:t.value},on:{change:function(e){return t.$emit("change",e)}}})],1)},Pn=[],Un=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input",{staticClass:"field__input",attrs:{id:t.id,type:"password",placeholder:t.placeholder,autocomplete:"off"},domProps:{value:t.value},on:{input:function(e){return t.$emit("change",e.target.value)}}})},Rn=[],Nn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(C["b"])(e,t),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"id",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"placeholder",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"value",void 0),e=Object(C["a"])([w["a"]],e),e}(w["c"]),Fn=Nn,Ln=Fn,Tn=Object(q["a"])(Ln,Un,Rn,!1,null,null,null),Hn=Tn.exports,Dn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(C["b"])(e,t),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"label",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"placeholder",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"error",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"value",void 0),e=Object(C["a"])([Object(w["a"])({components:{Field:Nt,PasswordInput:Hn}})],e),e}(w["c"]),In=Dn,Qn=In,Bn=Object(q["a"])(Qn,Vn,Pn,!1,null,null,null),Jn=Bn.exports,Kn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.componentMap={string:Dt,select:en,number:jn,checkbox:Mn,password:Jn},e}return Object(C["b"])(e,t),e.prototype.getComponentByType=function(t){if(void 0===this.componentMap[t])throw Error("Field type not found: "+t);return this.componentMap[t]},e.prototype.getValue=function(t,e){return void 0===t?e:t},Object(C["a"])([Object(w["b"])({default:[]})],e.prototype,"fields",void 0),Object(C["a"])([Object(w["b"])({default:function(){return{}}})],e.prototype,"values",void 0),e=Object(C["a"])([w["a"]],e),e}(w["c"]),zn=Kn,Gn=zn,Wn=Object(q["a"])(Gn,nn,rn,!1,null,null,null),Xn=Wn.exports,Yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("select-field",{attrs:{label:"Handle by",value:t.value,options:t.options},on:{change:function(e){return t.$emit("change",e)}}})},Zn=[],tr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.options=[],e}return Object(C["b"])(e,t),e.prototype.onHandlersChange=function(t,e){var n=[];t.forEach((function(t){n.push({id:t.identify(),label:t.getName(),value:t.identify()})})),this.options=n},Object(C["a"])([Object(w["b"])({default:function(){return[]}})],e.prototype,"handlers",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"value",void 0),Object(C["a"])([Object(w["d"])("handlers",{immediate:!0})],e.prototype,"onHandlersChange",null),e=Object(C["a"])([Object(w["a"])({components:{SelectField:en}})],e),e}(w["c"]),er=tr,nr=er,rr=Object(q["a"])(nr,Yn,Zn,!1,null,null,null),or=rr.exports,ir=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("field",{attrs:{id:t._uid,label:t.label,error:t.error}},[n("select-checkbox-input",{attrs:{options:t.options,value:t.value},on:{change:function(e){return t.$emit("change",e)}}})],1)},sr=[],ar=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"checkbox-select"},t._l(t.options,(function(e,r){return n("checkbox-input",{key:r,staticClass:"checkbox-select__item",attrs:{"true-value":e.value||e,text:e.label||e,checked:t.value.indexOf(e.value||e)>-1},on:{change:function(n){return t.onChange(e,n)}}})})),1)},cr=[],lr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(C["b"])(e,t),e.prototype.onChange=function(t,e){var n=this.value;if((t.value||t)===e)n.push(t.value||t);else{for(var r=0,o=this.value;r<o.length;r++)o[r];var i=n.indexOf(t.value||t);if(i<0)return;n.splice(i,1)}this.$emit("change",n)},Object(C["a"])([Object(w["b"])({default:function(){return[]}})],e.prototype,"options",void 0),Object(C["a"])([Object(w["b"])({default:function(){return[]}})],e.prototype,"value",void 0),e=Object(C["a"])([Object(w["a"])({components:{CheckboxInput:En}})],e),e}(w["c"]),ur=lr,pr=ur,hr=Object(q["a"])(pr,ar,cr,!1,null,null,null),dr=hr.exports,fr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(C["b"])(e,t),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"label",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"error",void 0),Object(C["a"])([Object(w["b"])({default:function(){return[]}})],e.prototype,"options",void 0),Object(C["a"])([Object(w["b"])({default:function(){return[]}})],e.prototype,"value",void 0),e=Object(C["a"])([Object(w["a"])({components:{Field:Nt,SelectCheckboxInput:dr}})],e),e}(w["c"]),br=fr,vr=br,yr=Object(q["a"])(vr,ir,sr,!1,null,null,null),jr=yr.exports,mr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fields=[],e}return Object(C["b"])(e,t),e.prototype.onModelChange=function(t,e){this.onHandlerChange(t.handler.slug)},e.prototype.onHandlerChange=function(t){if(!this.handlers.has(t))return this.fields=[],void(this.model.handler.slug="");var e=this.handlers.get(t),n=[];for(var r in e.getMeta().schema){var o=e.getMeta().schema[r];n.push({type:o.type,id:r,default:o.default||"",props:{label:o.name,error:"",options:o.options||[]}})}this.fields=n,this.model.handler.slug=e.identify()},e.prototype.save=function(){for(var t,e,n={name:this.model.name,rules:this.model.rules,handler:{slug:null===(t=this.model.handler)||void 0===t?void 0:t.slug,values:{}}},r=0,o=this.fields;r<o.length;r++){var i=o[r];n.handler.values[i.id]=null===(e=this.model.handler)||void 0===e?void 0:e.values[i.id]}this.$emit("save",n)},Object(C["a"])([Object(w["b"])({default:function(){return{}}})],e.prototype,"model",void 0),Object(C["a"])([Object(w["b"])({default:""})],e.prototype,"title",void 0),Object(C["a"])([Object(w["b"])({default:function(){return[]}})],e.prototype,"handlers",void 0),Object(C["a"])([Object(w["d"])("model",{immediate:!0})],e.prototype,"onModelChange",null),e=Object(C["a"])([Object(w["a"])({components:{StringField:Dt,SelectField:en,FormBuilder:Xn,SelectCheckboxField:jr,HandlerSelect:or}})],e),e}(w["c"]),gr=mr,Or=gr,_r=Object(q["a"])(Or,Te,He,!1,null,null,null),Cr=_r.exports,wr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.project=null,e.listeners=[],e.listener=null,e.handlers=new Map,e.closables=[],e}return Object(C["b"])(e,t),e.prototype.created=function(){this.repo=new K(this)},e.prototype.beforeDestroy=function(){this.repo.unbindAll();for(var t=0,e=this.closables;t<e.length;t++){var n=e[t];n.close()}},e.prototype.mounted=function(){this.repo.bindProperty("project",this.queries.projectActive),this.repo.bindValue("listeners",this.queries.listeners),this.repo.bindProperty("listener",this.queries.listenerActive),this.repo.bindValue("handlers",this.queries.handlers)},e.prototype.create=function(){this.$router.push({path:"/project/rule/create",query:this.$route.query})},e.prototype.openListener=function(t){this.$router.push({path:"/project/rule",query:{pid:this.$route.query.pid,rid:t.identify()}})},e.prototype.deleteListener=function(t){this.channel.dispatch({event:"listener@delete",data:t})},Object(C["a"])([Object(w["b"])()],e.prototype,"channel",void 0),Object(C["a"])([Object(w["b"])()],e.prototype,"queries",void 0),e=Object(C["a"])([Object(w["a"])({components:{ListenerList:Le,ListenerCreateCard:Cr}})],e),e}(w["c"]),xr=wr,Ar=xr,Er=Object(q["a"])(Ar,we,xe,!1,null,null,null),$r=Er.exports,kr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.editModel?n("section",{staticClass:"material__container"},[n("listener-create-card",{attrs:{title:t.listener.getName(),model:t.editModel,handlers:t.handlers},on:{cancel:function(e){return t.close()},save:function(e){return t.update(e)}}})],1):t._e()},qr=[],Sr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.editModel=null,e.listener=null,e.handlers=new Map,e}return Object(C["b"])(e,t),e.prototype.onUuidChange=function(t,e){this.channel.dispatch({event:"listener@open",data:t})},e.prototype.created=function(){this.repo=new K(this)},e.prototype.beforeDestroy=function(){this.repo.unbindAll(),this.channel.dispatch({event:"listener@close"})},e.prototype.mounted=function(){this.repo.bindProperty("editModel",this.queries.listenerEdit),this.repo.bindProperty("listener",this.queries.listenerActive),this.repo.bindValue("handlers",this.queries.handlers)},e.prototype.close=function(){this.$router.push({path:"/project",query:{pid:this.$route.query.pid}})},e.prototype.update=function(t){t.uuid=this.listener.getUuid(),t.projectUuid=this.listener.getProjecUuid(),this.channel.dispatch({event:"listener@update",data:{body:t}})},Object(C["a"])([Object(w["b"])()],e.prototype,"channel",void 0),Object(C["a"])([Object(w["b"])()],e.prototype,"queries",void 0),Object(C["a"])([Object(w["d"])("$route.query.rid",{immediate:!0})],e.prototype,"onUuidChange",null),e=Object(C["a"])([Object(w["a"])({components:{ListenerCreateCard:Cr}})],e),e}(w["c"]),Mr=Sr,Vr=Mr,Pr=Object(q["a"])(Vr,kr,qr,!1,null,null,null),Ur=Pr.exports,Rr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"material__container"},[t.model?n("listener-create-card",{attrs:{title:"Create Rule",model:t.model,handlers:t.handlers},on:{cancel:function(e){return t.cancel()},save:function(e){return t.save(e)}}}):t._e()],1)},Nr=[],Fr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.model=null,e.handlers=[],e.closables=[],e}return Object(C["b"])(e,t),e.prototype.created=function(){this.repo=new K(this)},e.prototype.beforeDestroy=function(){this.repo.unbindAll();for(var t=0,e=this.closables;t<e.length;t++){var n=e[t];n.close()}},e.prototype.mounted=function(){this.repo.bindProperty("model",this.queries.listenerCreate),this.repo.bindValue("handlers",this.queries.handlers)},e.prototype.cancel=function(){this.$router.push({path:"/project",query:this.$route.query})},e.prototype.save=function(t){var e=this,n=this.$route.query;t.projectUuid=n.pid,this.channel.dispatch({event:"listener@create",data:{body:t,success:function(t){e.$router.push({path:"/project",query:{pid:n.pid,rid:t.identify()}})}}})},e.prototype.onNameChange=function(t){this.model.name.set(t)},e.prototype.onRulesChange=function(t){this.model.rules.set(t)},Object(C["a"])([Object(w["b"])()],e.prototype,"channel",void 0),Object(C["a"])([Object(w["b"])()],e.prototype,"queries",void 0),e=Object(C["a"])([Object(w["a"])({components:{StringField:Dt,SelectField:en,FormBuilder:Xn,SelectCheckboxField:jr,ListenerCreateCard:Cr}})],e),e}(w["c"]),Lr=Fr,Tr=Lr,Hr=Object(q["a"])(Tr,Rr,Nr,!1,null,null,null),Dr=Hr.exports,Ir=function(){function t(t){this.channel=t.getChannel();var e={projects:t.getRepository("projects").query().list(),listeners:t.getRepository("listeners").query().orderBy("getName").list(),handlers:t.getRepository("handlers").query().map(),alerts:t.getRepository("alerts").query().list(),projectCreate:t.getRepository("properties").query().property("project.create"),projectActive:t.getRepository("properties").query().property("project.active"),listenerCreate:t.getRepository("properties").query().property("listener.create"),listenerEdit:t.getRepository("properties").query().property("listener.edit"),listenerActive:t.getRepository("properties").query().property("listener.active"),api:t.getRepository("properties").query().property("api")},n={channel:this.channel,queries:e};m["a"].use(g["a"]);var r=new g["a"]({routes:[{path:"",component:it,children:[{path:"",component:At,props:n},{path:"create",component:Kt,props:n}]},{path:"/project",component:Ce,props:n,children:[{path:"",component:$r,props:n,children:[{path:"rule",component:Ur,props:n}]},{path:"rule/create",component:Dr,props:n},{path:"settings",component:ae,props:n}]}],mode:"history"});new m["a"]({router:r,render:function(t){return t(Y,{props:n})}}).$mount("#app")}return t}(),Qr=function(){function t(t,e,n,r){this.projects=t,this.properties=e,this.channel=r,this.projectApi=n}return t.prototype.action=function(t){var e=this;this.projectApi.view(t).then((function(n){e.projects.insert(n.project),e.channel.dispatch({event:"listener@set.all",data:n.listeners}),e.properties.insert(new u("project.active.uuid",t))})).catch((function(t){console.error(t),e.channel.dispatch(j.errorEvent(t))}))},t}(),Br=(n("f5a8"),function(){function t(t,e){this.uuid=t,this.name=e}return t.prototype.identify=function(){return this.uuid},t.prototype.getUuid=function(){return this.uuid},t.prototype.getName=function(){return this.name},t}()),Jr=function(){function t(){}return t.prototype.adapt=function(t){return new Br(t.uuid,t.name)},t}(),Kr=(n("8eec"),function(){function t(t){this.itemAdapter=t}return t.prototype.adapt=function(t){for(var e=[],n=0,r=t;n<r.length;n++){var o=r[n];e.push(this.itemAdapter.adapt(o))}return e},t}()),zr=function(){function t(){}return t.listOf=function(t){return new Kr(t)},t}(),Gr=function(){function t(t,e,n,r,o,i){this.uuid=t,this.projectUuid=e,this.name=n,this.rules=r,this.handlerSlug=o,this.handlerValues=i}return t.prototype.identify=function(){return this.uuid},t.prototype.getUuid=function(){return this.uuid},t.prototype.getProjecUuid=function(){return this.projectUuid},t.prototype.getName=function(){return this.name},t.prototype.getRules=function(){return this.rules},t.prototype.getHandlerSlug=function(){return this.handlerSlug},t.prototype.getHandlerValues=function(){return this.handlerValues},t}(),Wr=function(){function t(){}return t.prototype.adapt=function(t){return new Gr(t.uuid,t.projectId,t.name,t.rules,t.handler.slug,t.handler.values)},t}(),Xr=function(){function t(){this.statusMap=new Map,this.statusMap.set("3xx","Server responded with redirect"),this.statusMap.set("4xx","Something is wrong with request data"),this.statusMap.set("5xx","Something is wrong with the server"),this.statusMap.set("404","404 Not found"),this.statusMap.set("422","422 Validation error"),this.statusMap.set("0","No internet connection")}return t.prototype.filter=function(t){if(!t.ok){var e=t.status.toString();if(this.statusMap.has(e))throw new Error(this.statusMap.get(e));if(e=Math.floor(t.status/100).toString()+"xx",this.statusMap.has(e))throw new Error(this.statusMap.get(e));throw new Error("Unknown error")}return t.json()},t}(),Yr=function(){function t(t){this.host=t,this.readAdapter=new Jr,this.listenerReadAdapter=new Wr,this.filter=new Xr}return t.prototype.all=function(){var t=this;return fetch(this.host+"/api/v1/projects").then(this.filter.filter.bind(this.filter)).then((function(e){var n=zr.listOf(t.readAdapter);return n.adapt(e)}))},t.prototype.view=function(t){var e=this;return fetch(this.host+"/api/v1/projects/"+t).then(this.filter.filter.bind(this.filter)).then((function(t){var n=zr.listOf(e.listenerReadAdapter);return{project:e.readAdapter.adapt(t.project),listeners:n.adapt(t.listeners)}}))},t.prototype.delete=function(t){return fetch(this.host+"/api/v1/projects/"+t.getUuid(),{method:"DELETE"}).then(this.filter.filter.bind(this.filter))},t.prototype.create=function(t){var e=this;return fetch(this.host+"/api/v1/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.getName()})}).then(this.filter.filter.bind(this.filter)).then((function(t){return e.readAdapter.adapt(t)}))},t.prototype.update=function(t){var e=this;return fetch(this.host+"/api/v1/projects/"+t.getUuid(),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.getName()})}).then(this.filter.filter.bind(this.filter)).then((function(t){return e.readAdapter.adapt(t)}))},t.prototype.generate=function(t){var e=this;return fetch(this.host+"/api/v1/projects/"+t+"/generate",{method:"PUT",headers:{"Content-Type":"application/json"}}).then(this.filter.filter.bind(this.filter)).then((function(t){return e.readAdapter.adapt(t)}))},t}(),Zr=function(){function t(t,e,n){void 0===n&&(n={}),this.slug=t,this.name=e,this.meta=n}return t.prototype.identify=function(){return this.slug},t.prototype.getSlug=function(){return this.slug},t.prototype.getName=function(){return this.name},t.prototype.getMeta=function(){return this.meta},t}(),to=function(){function t(){}return t.prototype.adapt=function(t){return new Zr(t.slug,t.name,t.meta)},t}(),eo=function(){function t(t){this.host=t,this.readAdapter=new to}return t.prototype.all=function(){var t=this;return fetch(this.host+"/api/v1/handlers").then((function(t){return t.json()})).then((function(e){var n=zr.listOf(t.readAdapter);return n.adapt(e)}))},t.prototype.view=function(t){var e=this;return fetch(this.host+"/api/v1/handlers/"+t).then((function(t){return t.json()})).then((function(t){return e.readAdapter.adapt(t)}))},t}(),no=function(){function t(t){this.host=t,this.readSchema=new Wr}return t.prototype.create=function(t){var e=this;return fetch(this.host+"/api/v1/listeners",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project_uuid:t.getProjecUuid(),name:t.getName(),rules:t.getRules(),handler_slug:t.getHandlerSlug(),handler_values:t.getHandlerValues()})}).then((function(t){return t.json()})).then((function(t){return e.readSchema.adapt(t)}))},t.prototype.update=function(t){var e=this;return fetch(this.host+"/api/v1/listeners/"+t.getUuid(),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.getName(),rules:t.getRules(),handler_slug:t.getHandlerSlug(),handler_values:t.getHandlerValues()})}).then((function(t){return t.json()})).then((function(t){return e.readSchema.adapt(t)}))},t.prototype.delete=function(t){return fetch(this.host+"/api/v1/listeners/"+t.getUuid(),{method:"DELETE"}).then((function(t){return t.json()}))},t}(),ro=function(){function t(){}return t.prototype.load=function(){return fetch("/config.json").then((function(t){return t.json()}))},t}(),oo=function(){function t(t){this.projectsApi=new Yr(t),this.handlersApi=new eo(t),this.listenersApi=new no(t),this.configApi=new ro}return t.prototype.projects=function(){return this.projectsApi},t.prototype.handlers=function(){return this.handlersApi},t.prototype.listeners=function(){return this.listenersApi},t.prototype.config=function(){return this.configApi},t}(),io=(n("f6a8"),n("8a11"),n("9614"),n("b815"),function(){function t(t,e,n,r,o){var i=this;this.projects=t,this.channel=r,this.projectApi=n,this.propertyMap=new Map,this.validator=o.build({name:["required","str.max:255"]}),e.query().map().connectFn((function(t){i.propertyMap=t}))}return t.prototype.action=function(t){var e=this;this.projectApi.create(new Br("",t.body.name)).then((function(n){e.projects.insert(n),e.channel.dispatch(j.infoEvent("Project has been created")),e.channel.dispatch({event:"project.create@reset"}),t.success&&t.success(n)})).catch((function(t){console.error(t),e.channel.dispatch(j.errorEvent(t))}))},t}()),so=function(){function t(t,e,n){this.projectApi=e,this.projects=t,this.channel=n}return t.prototype.action=function(t){var e=this;this.projectApi.all().then((function(t){e.projects.setAll(t)})).catch((function(t){console.error(t),e.channel.dispatch(j.errorEvent(t))}))},t}(),ao=function(){function t(t,e,n){this.projectApi=e,this.channel=n,this.projects=t}return t.prototype.action=function(t){var e=this;this.projectApi.delete(t.body).then((function(){e.projects.remove(t.body),e.channel.dispatch(j.infoEvent("Project has been deleted")),t.success&&t.success()})).catch((function(t){console.error(t),e.channel.dispatch(j.errorEvent("Cannot delete project"))}))},t}(),co=function(){function t(t){this.properties=t}return t.prototype.action=function(t){this.properties.insert(new u("project.create",{field:{name:""},error:{}}))},t}(),lo=function(){function t(t,e){this.properties=t,this.channel=e}return t.prototype.action=function(){this.channel.dispatch({event:"listener@set.all",data:[]}),this.properties.insert(new u("project.active.uuid",void 0))},t}(),uo=function(){function t(t,e){this.closables=[],this.projects=t,this.properties=e,this.projectQuery=null}return t.prototype.start=function(){var t=this.properties.query().property("project.active.uuid");this.closables.push(t.connectFn(this.onUuidChange.bind(this))),this.closables.push(t)},t.prototype.stop=function(){for(var t=0,e=this.closables;t<e.length;t++){var n=e[t];n.close()}},t.prototype.onUuidChange=function(t){var e=this;this.projectQuery&&this.projectQuery.close(),this.projectQuery=this.projects.query().property(t.get()),this.projectQuery.connectFn((function(t){e.properties.insert(new u("project.active",t))}))},t}(),po=function(){function t(t,e,n){this.projectApi=e,this.channel=n,this.projects=t}return t.prototype.action=function(t){var e=this;this.projectApi.generate(t.body.identify()).then((function(n){e.projects.insert(n),e.channel.dispatch(j.infoEvent("Url has been regenerated")),t.success&&t.success(n)})).catch((function(t){console.error(t),e.channel.dispatch(j.errorEvent(t))}))},t}(),ho=function(){function t(t,e){this.projectApi=t,this.validatorBuilder=e}return t.prototype.install=function(t){var e=t.channel(),n=new s["SimpleRepository"];t.repositories().insert("projects",n);var r=t.repositories().get("properties");r.insert(new u("project.create",void 0)),r.insert(new u("project.active",void 0)),r.insert(new u("project.active.uuid","")),t.controllers().insert("project.create@reset",new co(r)),t.controllers().insert("project@load.all",new so(n,this.projectApi,e)),t.controllers().insert("project@delete",new ao(n,this.projectApi,e)),t.controllers().insert("project@create",new io(n,r,this.projectApi,e,this.validatorBuilder)),t.controllers().insert("project@open",new Qr(n,r,this.projectApi,e)),t.controllers().insert("project@close",new lo(r,e)),t.controllers().insert("project@generate",new po(n,this.projectApi,e));var o=new uo(n,r);o.start(),e.dispatch({event:"project.create@reset"})},t}(),fo=function(){function t(t,e){this.handlerApi=t,this.handlers=e}return t.prototype.action=function(t){var e=this;this.handlerApi.all().then((function(t){e.handlers.setAll(t)})).catch((function(t){console.error(t)}))},t}(),bo=function(){function t(t){this.handlerApi=t}return t.prototype.install=function(t){var e=new s["SimpleRepository"];t.repositories().insert("handlers",e),t.controllers().insert("handler@load.all",new fo(this.handlerApi,e)),t.channel().dispatch({event:"handler@load.all"})},t}(),vo=function(){function t(t,e){this.properties=t,this.host=e,this.closables=[]}return t.prototype.start=function(){var t=this.properties.query().property("project.active");this.closables.push(t.connectFn(this.onActiveProjectChange.bind(this))),this.closables.push(t)},t.prototype.stop=function(){for(var t=0,e=this.closables;t<e.length;t++){var n=e[t];n.close()}},t.prototype.onActiveProjectChange=function(t){var e=t.get();void 0!==e?this.properties.insert(new u("api",{url:this.host+"/logs/"+e.getUuid()})):this.properties.insert(new u("api",void 0))},t}(),yo=function(){function t(t){this.host=t}return t.prototype.install=function(t){var e=t.repositories().get("properties");e.insert(new u("api",void 0));var n=new vo(e,this.host);n.start()},t}(),jo=function(){function t(t){this.properties=t}return t.prototype.action=function(t){this.properties.insert(new u("listener.create",{name:"",rules:[],handler:{slug:"",values:{}}}))},t}(),mo=function(){function t(t,e,n){this.listenerApi=e,this.channel=n,this.listeners=t}return t.prototype.action=function(t){var e=this,n=t.body,r=new Gr("",n.projectUuid,n.name,n.rules,n.handler.slug,n.handler.values);this.listenerApi.create(r).then((function(n){e.listeners.insert(n),e.channel.dispatch({event:"listener@open",data:n}),e.channel.dispatch(j.infoEvent("Rule has been created")),e.channel.dispatch({event:"listener.create@reset"}),t.success&&t.success(n)})).catch((function(t){console.error(t),e.channel.dispatch(j.errorEvent("Cannot create rule"))}))},t}(),go=function(){function t(t){this.listeners=t}return t.prototype.action=function(t){this.listeners.setAll(t)},t}(),Oo=function(){function t(t,e,n){this.listnerApi=e,this.listners=t,this.channel=n}return t.prototype.action=function(t){var e=this;this.listnerApi.delete(t).then((function(){e.listners.remove(t),e.channel.dispatch(j.infoEvent("Rule has been removed"))})).catch((function(t){console.error(t),e.channel.dispatch(j.errorEvent("Cannot remove rule"))}))},t}(),_o=function(){function t(t){this.properties=t}return t.prototype.action=function(t){this.properties.insert(new u("listener.active.uuid",t))},t}(),Co=function(){function t(t){this.properties=t}return t.prototype.action=function(t){this.properties.insert(new u("listener.active.uuid",void 0))},t}(),wo=function(){function t(t){this.closables=[],this.models=new Map,this.properties=t}return t.prototype.start=function(){var t=this,e=this.properties.query().property("listener.active");e.connectFn((function(e){t.onListenerChange(e.get())})),this.closables.push(e)},t.prototype.onListenerChange=function(t){if(t)if(this.models.has(t.getUuid()))this.properties.insert(new u("listener.edit",this.models.get(t.getUuid())));else{var e={name:t.getName(),project_uuid:t.getProjecUuid(),rules:Object(C["c"])(t.getRules()),handler:{slug:t.getHandlerSlug(),values:t.getHandlerValues()}};this.models.set(t.getUuid(),e),this.properties.insert(new u("listener.edit",e))}else this.properties.insert(new u("listener.edit",void 0))},t.prototype.stop=function(){for(var t=0,e=this.closables;t<e.length;t++){var n=e[t];n.close()}},t}(),xo=function(){function t(t,e,n){this.listenerApi=e,this.listeners=t,this.channel=n}return t.prototype.action=function(t){var e=this,n=new Gr(t.body.uuid,t.body.projectUuid,t.body.name,t.body.rules,t.body.handler.slug,t.body.handler.values);this.listenerApi.update(n).then((function(n){e.listeners.insert(n),e.channel.dispatch(j.infoEvent("Rule was updated")),t.success&&t.success(n)})).catch((function(t){console.error(t),e.channel.dispatch(j.errorEvent(t))}))},t}(),Ao=function(){function t(t,e){this.closables=[],this.listeners=t,this.properties=e,this.listenerQuery=null}return t.prototype.start=function(){var t=this.properties.query().property("listener.active.uuid");this.closables.push(t.connectFn(this.onUuidChange.bind(this))),this.closables.push(t)},t.prototype.stop=function(){for(var t=0,e=this.closables;t<e.length;t++){var n=e[t];n.close()}},t.prototype.onUuidChange=function(t){var e=this;this.listenerQuery&&this.listenerQuery.close(),this.listenerQuery=this.listeners.query().property(t.get()),this.listenerQuery.connectFn((function(t){e.properties.insert(new u("listener.active",t))}))},t}(),Eo=function(){function t(t){this.listenerApi=t}return t.prototype.install=function(t){var e=t.channel(),n=new s["SimpleRepository"];t.repositories().insert("listeners",n);var r=t.repositories().get("properties");r.insert(new u("listener.create",void 0)),r.insert(new u("listener.edit",void 0)),r.insert(new u("listener.active",void 0)),r.insert(new u("listener.active.uuid","")),t.controllers().insert("listener@set.all",new go(n)),t.controllers().insert("listener.create@reset",new jo(r)),t.controllers().insert("listener@create",new mo(n,this.listenerApi,e)),t.controllers().insert("listener@delete",new Oo(n,this.listenerApi,e)),t.controllers().insert("listener@update",new xo(n,this.listenerApi,e)),t.controllers().insert("listener@open",new _o(r)),t.controllers().insert("listener@close",new Co(r));var o=new wo(r);o.start();var i=new Ao(n,r);i.start(),t.channel().dispatch({event:"listener.create@reset"})},t}(),$o=(n("9c25"),n("efd8"),n("c193"),n("15e9"),n("2a56"),function(){function t(t,e){this.valid=t,this.errors=e}return t.prototype.isValid=function(){return this.valid},t.prototype.getErrors=function(){return this.errors},t}()),ko=function(){function t(t,e){void 0===e&&(e=[]),this.name=t,this.args=e}return t.prototype.getName=function(){return this.name},t.prototype.getArgs=function(){return this.args},t}(),qo=function(){function t(){}return t.parseRuleName=function(t){var e=t.split(":");return 1===e.length?new ko(e[0]):new ko(e[0],e[1].split(","))},t}(),So=function(){function t(t,e){this.rules=t,this.dataRules=e}return t.prototype.validate=function(t){var e=new Map;for(var n in this.dataRules){var r=this.validateValue(t[n],this.dataRules[n]);r.length>0&&e.set(n,r)}return new $o(0===e.size,e)},t.prototype.getRule=function(t){if(!this.rules.has(t))throw new Error("Unknown rule name: "+t);return this.rules.get(t)},t.prototype.validateValue=function(t,e){for(var n=0,r=e;n<r.length;n++){var o=r[n],i=qo.parseRuleName(o),s=this.getRule(i.getName()),a=s.validate(t,i.getArgs());if(a.shouldExit())return a.getError();if(!a.isValid())return a.getError()}return""},t}(),Mo=function(){function t(){this.rules=new Map}return t.prototype.extend=function(t){t.register(this.rules)},t.prototype.build=function(t){return new So(this.rules,t)},t}(),Vo=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=!1),this.error=t,this.valid=0===t.length,this.exit=e}return t.prototype.getError=function(){return this.error},t.prototype.isValid=function(){return this.valid},t.prototype.shouldExit=function(){return this.exit},t}(),Po=function(){function t(){}return t.getValidValidation=function(){return new Vo},t.getErrorValidation=function(t){return new Vo(t)},t.getValidation=function(t,e){return t?this.getValidValidation():this.getErrorValidation(e)},t.getValidExitValidation=function(){return new Vo("",!0)},t}(),Uo=function(){function t(){this.error="Field is required"}return t.prototype.validate=function(t,e){var n=null!==t&&void 0!==t&&""!==t;return Po.getValidation(n,this.error)},t}(),Ro=function(){function t(){}return t.prototype.validate=function(t,e){var n=null===t||void 0===t||""===t;return n?Po.getValidExitValidation():Po.getValidValidation()},t}(),No=function(){function t(){}return t.prototype.register=function(t){t.set("required",new Uo),t.set("optional",new Ro)},t}(),Fo=function(){function t(){}return t.prototype.validate=function(t,e){var n=parseInt(e[0]),r=t.length>=n,o="Field has to be at least "+n+" characters long";return Po.getValidation(r,o)},t}(),Lo=function(){function t(){}return t.prototype.validate=function(t,e){var n=parseInt(e[0]),r=t.length<=n,o="Field cannot be longer then "+n+" characters";return Po.getValidation(r,o)},t}(),To=function(){function t(){}return t.prototype.register=function(t){t.set("str.min",new Fo),t.set("str.max",new Lo)},t}(),Ho=new ro;Ho.load().then((function(t){var e=new oo(t.host),n=new Mo;n.extend(new No),n.extend(new To);var r=new l([new y,new ho(e.projects(),n),new bo(e.handlers()),new Eo(e.listeners()),new yo(t.host)]);new Ir(r)})).catch((function(t){console.error("cannot load initial config",t)}))},cf56:function(t,e){},d75b:function(t,e){},df2c:function(t,e,n){"use strict";var r=n("1edf"),o=n.n(r);o.a},efd8:function(t,e){},f13e:function(t,e){},f5a8:function(t,e){},f6a8:function(t,e){},fe45:function(t,e){}});
//# sourceMappingURL=app.2ae1a99a.js.map